
```cardlink
url: https://hyperskill.org/learn/step/4631
title: "Hyperskill"
host: hyperskill.org
favicon: https://hs.azureedge.net/static/hyperskill.org/favicons/favicon.ico
image: https://hyperskill.org/static/hyperskill-hypercover.png
```


`when`코틀린은 변수 값에 따라 다른 동작을 수행하는 특수 표현식을 제공합니다 . 여러 가지 옵션이 있을 때 원하는 옵션을 선택하는 매우 편리한 방법입니다. 이 표현식을 사용하면 `if` 코드를 대체하고 가독성을 높일 수 있습니다.

## 대안

예를 들어, 아래 프로그램은 두 정수의 덧셈, 뺄셈, 곱셈을 수행합니다. `when`어떤 연산을 수행할지 결정하는 데 사용됩니다.

```kotlin
fun main(){
    val (var1, op, var2) = readln().split(" ")

    val a = var1.toInt()
    val b = var2.toInt()

    when (op) {
        "+" -> println(a + b)
        "-" -> println(a - b)
        "*" -> println(a * b)
        else -> println("Unknown operator")
    }
}
```

좀 더 자세히 살펴보겠습니다. 여기서는 `when`을(를) 받아서 `op`적절한 값을 찾을 때까지 모든 값과 하나씩 비교합니다. 세 개의 정규 분기, 즉 `"+"`, `"-"`, `"*"`, 그리고 하나의 `else`분기가 있습니다. 이 `else`분기는 연산자와 일치하는 값이 없으면 실행됩니다. `else`분기는 선택 사항이므로 건너뛸 수 있습니다. 같은 코드를 로 작성하면 `if`가독성이 떨어질 것입니다.

처리할 케이스가 여러 개인 경우, 쉼표로 구분하여 결합할 수 있습니다. 하나의 브랜치에 필요한 만큼의 값을 결합할 수 있습니다. 마지막에 쉼표를 추가할 수도 있습니다. 긴 케이스 목록을 추가해야 할 때 유용합니다. 이전 프로그램에서 수정된 코드 조각은 다음과 같습니다.

```kotlin
when (op) {
    "+", "plus" -> println(a + b)
    "-", "minus", -> println(a - b) // trailing comma
    "*", "times" -> println(a * b)
    else -> println("Unknown operator")
}
```

이 코드는 입력 `5 + 8`뿐만 아니라 `5 plus 8`. 에도 적용됩니다.

여러 개의 문장이 있는 복잡한 블록을 분기로 사용할 수도 있습니다.

```kotlin
when (op) {
    "+", "plus" -> {
        val sum = a + b
        println(sum)
    }
    "-", "minus" -> {
        val diff = a - b
        println(diff)
    }
    "*", "times" -> {
        val product = a * b
        println(product)
    }
    else -> println("Unknown operator")
}
```

보시다시피, `when`표현을 사용하는 방법은 다양합니다. 가장 읽기 쉬운 표현을 사용하세요.

## 표현으로서 언제

`When`결과를 반환할 수도 있습니다. 이 경우 모든 브랜치는 무언가를 반환해야 하며, 브랜치는 **필수**`else` 입니다 . 아래 코드 예제에서 모든 브랜치는 해당 연산의 결과를 반환합니다.

```kotlin
val result = when (op) {
    "+" -> a + b
    "-" -> a - b
    "*" -> a * b
    else -> "Unknown operator"
}
println(result)
```

추가 변수를 선언할 필요 없이 결과를 함수에 즉시 전달할 수 있습니다. 아래 예를 살펴보세요.

```kotlin
println(when(op) {
    "+" -> a + b
    // ...
    else -> "Unknown operator"
})
```

결과를 다른 곳에 사용할 필요가 없거나 코드를 짧게 유지할 때 이 표기법을 사용하세요.

분기에 여러 개의 명령문이 포함된 블록이 포함된 경우 `{...}`, 마지막 줄은 단일 값 또는 표현식의 결과로 실행되고 반환되는 복잡한 표현식이어야 합니다 `when`. 위 예제에서 수정된 분기를 살펴보세요.

```kotlin
"+" -> {
    val sum = a + b
    sum
}
```

`{...}`코드를 더 쉽게 이해하려면 in branch 없이 더 짧은 형식을 선택하세요 .

## 지점 조건 및 범위

Java나 C#과 같은 다른 프로그래밍 언어를 사용하는 경우 이 명령문 `when`과 비슷하다는 것을 알 수 있습니다 `switch`. `When`는 값을 직접 일치시키는 것뿐만 아니라 더 복잡한 검사를 제공합니다.

아래 프로그램은 세 개의 정수 `a`, `b`, , 를 읽어서 와 를 사용하여 `c`계산하는 방법을 알아냅니다 . 를 계산하는 방법이 여러 가지이면 첫 번째 방법만 출력합니다.`c``a``b``c`

```kotlin
fun main(){
    val (var1, var2, var3) = readln().split(" ")

    val a = var1.toInt()
    val b = var2.toInt()
    val c = var3.toInt()

    println(when (c) {
        a + b -> "$c equals $a plus $b"
        a - b -> "$c equals $a minus $b"
        a * b -> "$c equals $a times $b"
        else -> "We do not know how to calculate $c"
    })
}
```

입력 값이 `5 3 2`프로그램 출력 이면 `2 equals 5 minus 3`. 입력 값이 이면 `0 0 0`.을 출력합니다 `0 equals 0 plus 0`.

또 다른 흥미로운 방법은 값이 범위에 속하는지 확인하는 것입니다. 다음 코드를 살펴보세요.

```kotlin
when (n) {
    0 -> println("n is zero")
    in 1..10 -> println("n is between 1 and 10 (inclusive)")
    in 25..30 -> println("n is between 25 and 30 (inclusive)")
    else -> println("n is outside a range")
}
```

정수 변수가 이면 `n`프로그램 `0`은 첫 번째 분기를 평가합니다. `n`1~10 범위(포함)에 속하면 두 번째 분기를 평가합니다. `n`25~30 범위(두 경계 모두 포함)에 속하면 세 번째 분기를 평가합니다. `n`와 같지 않고 `0`두 범위에도 속하지 않으면 `else`분기를 평가합니다.

단일 값처럼 쉼표를 사용하여 범위를 결합할 수도 있습니다. 다음과 같습니다.

```kotlin
in a..b, in c..d -> println("n belongs to a range")
```

## 인수가 없을 때

인수 없이 표현식을 사용할 수 있습니다 `when`. 이 경우 모든 분기 조건은 간단한 부울 표현식이며, 조건이 이면 분기가 실행됩니다 `true`. 여러 조건이 이면 `true`첫 번째 조건만 실행됩니다.

아래 프로그램은 작동 방식을 보여줍니다.

```kotlin
fun main(){
    val n = readln().toInt()
    
    when {
        n == 0 -> println("n is zero")
        n in 100..200 -> println("n is between 100 and 200")
        n > 300 -> println("n is greater than 300")
        n < 0 -> println("n is negative")
        // else-branch is optional here
    }
}
```

모든 분기 조건은 부울 값을 생성하는 모든 연산을 포함할 수 있는 [부울 표현식](https://hyperskill.org/learn/step/4631 "코틀린에서 부울 표현식은 참 또는 거짓의 부울 값으로 평가되는 표현식 유형입니다. | 이러한 표현식은 프로그래밍에서 두 가지 부울 조건에 따라 결정을 내리는 데 자주 사용됩니다. 'not', 'and', 'or', 'xor'와 같은 논리 연산자를 포함할 수 있으며, 이를 통해 복잡한 값 매칭을 지원하고 코드 이해를 도울 수 있습니다. 코틀린에서 부울 값은 매장의 개점 여부와 같이 두 가지 상반된 상태를 나타내는 데 자주 사용되며, 참 또는 거짓의 두 가지 값만 가질 수 있습니다.") 입니다 .

## 결론

이 주제에서는 여러 가지 구문의 사례를 살펴보았습니다 . 이 구문은 복잡한 값 매칭을 제공하고 코드를 더 쉽게 이해할 수 있도록 도와줍니다. 연습 문제에서 `when`다양한 구문을 사용해 보세요 . 실험하는 것을 두려워하지 마세요. 이 구문 은 다양한 가능성을 가진 매우 강력한 구문 설계라는 점을 기억하세요.`when``when`

```cardlink
url: https://hyperskill.org/learn/step/17408
title: "Hyperskill"
host: hyperskill.org
favicon: https://hs.azureedge.net/static/hyperskill.org/favicons/favicon.ico
image: https://hyperskill.org/static/hyperskill-hypercover.png
```


# Kotlin의 상수 및 Val 변수

때로는 프로그램 실행 중에 수정되지 않아야 하는 변수를 사용해야 할 필요가 있습니다. 이러한 변수들을 **상수(constants)** 또는 Kotlin에서는 `val` **키워드(keyword)**로 선언되는 **val 변수(val variables)**라고 합니다. `var` 변수와 `val` 변수의 차이점은 `val` 변수는 한 번 할당된 후에는 값을 수정할 수 없다는 것입니다.

**Kotlin에서 키워드(keyword)는 언어에서 특별한 의미를 가지며 프로그래머가 변경할 수 없는 단어입니다.** 키워드는 코드의 구조와 동작을 정의하는 데 사용됩니다. Kotlin의 키워드 예로는 `fun`(함수를 정의하는 데 사용), `var`(변수를 정의하는 데 사용), `if`(조건문을 정의하는 데 사용) 등이 있습니다. 키워드는 Kotlin에서 예약어이며 식별자로 사용할 수 없습니다.

## Val 변수(Val variables)

다음 코드는 두 개의 `val` 변수를 소개합니다: 잘 알려진 수학 상수를 나타내는 `pi`와 문자열 텍스트를 나타내는 `helloMsg`입니다.

```kotlin
val pi = 3.1415
val helloMsg = "Hello"

println(pi)       // 3.1415
println(helloMsg) // Hello
```

두 변수 모두 수정할 수 없지만, 필요한 만큼 여러 번 접근할 수 있습니다. `val` 변수의 값을 수정하려고 하면 컴파일러가 오류를 발생시키므로, 아래 코드를 컴파일하려고 하면 `Val cannot be reassigned` 오류가 발생합니다.

```kotlin
val pi = 3.1415
pi = 3.1416 // 오류 발생 줄
```

`val` 변수가 값을 할당받기 전에 사용되면 컴파일러도 오류를 발생시킵니다:

```kotlin
val boolFalse: Boolean
println(boolFalse) // 오류 발생 줄
```

위 코드에서는 `Variable 'boolFalse' must be initialized` 오류가 발생합니다. 이를 수정하려면 변수에 접근하기 전에 값을 할당하세요:

```kotlin
val boolFalse: Boolean // 초기화되지 않음
boolFalse = false      // 초기화됨
println(boolFalse)     // 여기서 오류 없음
```

`val` 변수의 값은 아무런 제한 없이 `var` 변수에 재할당될 수 있으며, 일반 변수의 값은 필요한 만큼 여러 번 변경될 수 있습니다:

```kotlin
val count = 10
var cnt = count
cnt = 20 // 여기서 오류 없음, cnt는 상수가 아님
```

## Val 변수와 가변성(mutability)

`val`이 **불변(immutable)**의 동의어가 아니라는 점을 이해하는 것이 중요합니다. 다음 예제에서는 MutableList를 사용할 것입니다. MutableList는 동일한 유형의 요소들의 순서가 있는 집합입니다. [MutableList](https://hyperskill.org/learn/step/11032)에 대해 더 자세히 알고 싶다면 MutableList에 관한 주제를 배울 수 있지만, 지금 당장 필요한 것은 아닙니다.

```kotlin
// 리스트 생성
val myMutableList = mutableListOf(1, 2, 3, 4, 5)
// 리스트 업데이트 시도
myMutableList = mutableListOf(1, 2, 3, 4, 5, 6) // 오류 발생 줄
                                                    ```

두 번째 줄은 `val` 변수를 재할당하려고 시도하고 있기 때문에 컴파일되지 않을 것입니다. 그러나 기억해야 할 한 가지 중요한 점이 있습니다.

`val` 변수의 내부 상태는 항상 변경할 수 있습니다: 변수를 재할당하는 것은 금지되지만, 그 내용은 다른 방식으로 수정될 수 있습니다.

그래서 다음 코드는 올바릅니다:

```kotlin
// 리스트 생성
val myMutableList = mutableListOf(1, 2, 3, 4, 5)
// 새 요소 추가
myMutableList.add(6)   // 작동함
// 리스트 출력
println(myMutableList) // [1, 2, 3, 4, 5, 6]
```

보시다시피, 이 코드는 다른 정수를 추가하여 `myMutableList`의 내부 상태를 변경했습니다. `add()` 함수를 호출했을 때, 우리는 변수 자체가 아니라 그것이 나타내는 리스트를 변경했습니다.

Java 프로그래밍 언어에 익숙하다면, Kotlin의 `val` 변수를 Java의 `final` 변수와 유사하게 생각하는 것이 더 쉬울 수 있습니다. 둘 다 매우 유사합니다: 둘 다 변수에 값을 재할당하는 것을 금지하지만 객체의 내부 상태를 변경하는 것은 허용합니다.

**Kotlin에서 불변(immutable)은 초기화된 후에 변경할 수 없는 객체 또는 변수의 유형입니다.** 이는 데이터의 무결성을 보장하고 의도하지 않은 수정을 방지하는 데 도움이 됩니다. 예를 들어, 책의 페이지 목록은 시간이 지나도 내용을 변경할 수 없는 불변 컬렉션일 수 있습니다. 반면에, 가변(mutable) 컬렉션은 저장된 항목을 추가, 제거 또는 업데이트하는 등의 변경을 허용합니다. `val` 키워드로 선언된 불변 변수는 외부 코드에 의해 수정될 수 없기 때문에 내부 상태를 안전하고 제어된 방식으로 노출하는 데 특히 유용합니다.

## Const 변수(Const variables)

Kotlin에서는 **컴파일 시간 상수(compile-time constant)**를 선언하기 위해 `val` 키워드 앞에 사용되는 `const` **수정자(modifier)**도 있습니다. `const` 변수의 값은 컴파일 시간에 알려지며 런타임에 변경되지 않을 것입니다:

```kotlin
const val MY_STRING = "This is a constant string"
```

다음 코드는 프로그램 실행 전에 값을 알 수 없고 상수가 아니기 때문에 오류를 발생시킬 것입니다:

```kotlin
const val MY_STRING = readln() // 상수 String이 아님!!!
```

`const` 수정자가 적용될 수 있는 시기에는 몇 가지 제한이 있습니다. 첫째, `String` 또는 기본 유형 변수에만 사용할 수 있습니다:

```kotlin
const val CONST_INT = 127
const val CONST_DOUBLE = 3.14
const val CONST_CHAR = 'c'
const val CONST_STRING = "I am constant"
const val CONST_ARRAY = arrayOf(1, 2, 3) // 오류: 기본 타입과 문자열만 허용됨
```

또한, `const` 변수는 모든 함수 외부의 최상위 레벨에서 선언되어야 합니다:

```kotlin
const val MY_INT_1 = 1024 // 올바른 줄

fun main() {
    const val MY_INT_2 = 2048 // 오류: 'const' 수정자는 '지역 변수'에 적용할 수 없음
}
```

**Kotlin에서 수정자(modifier)는 변수 또는 클래스 멤버의 접근성과 가변성을 정의하는 데 사용되는 키워드입니다.** 예를 들어, `var` 키워드는 변수가 변경될 수 있음을 나타내는 수정자이고, `val`은 변수가 불변임을 나타냅니다. 또한, `private`와 `public`과 같은 수정자는 변수나 클래스 가시성의 범위를 결정합니다. 예를 들어, `private` 수정자로 선언된 속성은 동일한 파일이나 클래스 내에서만 접근할 수 있지만, `public` 수정자는 객체가 사용 가능한 프로그램의 어느 곳에서나 접근할 수 있게 합니다.

**Kotlin에서 컴파일 시간 상수(compile-time czonstant)는 컴파일 시간에 알려지며 런타임 동안 값을 변경할 수 없는 읽기 전용 속성입니다.** 컴파일 시간 상수로 간주되려면 숫자나 문자열과 같은 기본 유형의 값으로 초기화되어야 하며, 사용자 정의 getter로 초기화될 수 없습니다. 컴파일 시간 상수는 SCREAMING_SNAKE_CASE를 사용하여 이름을 지정해야 하며 `const` 키워드로 선언할 수 있습니다. 또한, 컴파일 시간 최상위 상수는 `const val` 수정자로 선언될 수 있습니다.

## Val 변수를 사용하는 시기

이제 `val` 키워드가 변수에 어떻게 작동하는지 이해했기를 바랍니다. 이제 언제 사용해야 하는지 알아볼 시간입니다. 좋은 방법은 기본적으로 `val` 변수를 사용하는 것입니다. 그런 다음, 코드에 필요하다고 판단될 때 `var` 변수로 변경하세요:
ㄷ
```kotlin
var a = 1024
val b = 256
val c = 128
a += b * c
```

이 접근 방식을 통해 **가변 변수(mutable variables)**의 수를 최소화하여 프로그램을 작성할 수 있으며, 이는 오류를 줄이는 데 도움이 됩니다.

**Kotlin에서 가변 변수(mutable variable)는 선언되고 초기화된 후에 변경하거나 수정할 수 있는 변수입니다.** 이는 `var` 키워드를 사용하여 선언되며, 변수에 새 값을 재할당할 수 있습니다. 이는 초기화된 후에 변경할 수 없는 `val` 키워드로 선언된 불변 변수와 대조됩니다. 가변과 불변은 같은 의미가 아니라는 점을 이해하는 것이 중요합니다. 예를 들어, 가변 변수의 내용은 필요하다면 여러 번 변경될 수 있지만, 변수 자체를 재할당하는 것은 불가능합니다. 그러나 가변 변수의 내부 상태는 항상 변경할 수 있습니다.

## 명명 규칙(Naming conventions)

Kotlin에서 `val`과 `const` 변수를 선언할 때, 코드를 쉽게 읽고 유지 관리할 수 있도록 Kotlin의 명명 규칙을 따르는 것이 가장 좋습니다. `val` 변수에는 **카멜케이스(camelCase)** 형식을 사용하세요. 소문자로 시작하고 각 후속 단어의 첫 글자를 대문자로 표기합니다. 다음은 몇 가지 예시입니다:

```kotlin
val numberOfWheels: Int

val isConnectionAvailable: Boolean

val userFirstName: String
```

`const` 변수는 컴파일 시간 상수입니다. 정적이고 변경할 수 없는 값을 나타내기 때문에, 이름은 대문자로 표기하고 단어 사이에 밑줄을 사용해야 합니다. 이 규칙은 코드 내에서 상수를 쉽게 구별할 수 있게 합니다. 다음은 const 변수의 이름을 지정하는 방법입니다:

```kotlin
const val MAX_USER_COUNT = 50

const val COMPANY_NAME = "TechCorp"

const val VERSION_CODE = 3
```

**Kotlin에서 카멜케이스(camelcase)는 변수와 함수의 명명 규칙입니다.** 소문자로 시작하여 각 후속 단어의 첫 글자를 대문자로 표기합니다. 예를 들어, 카멜케이스 변수는 firstVariable 또는 myFunction과 같이 이름을 지을 수 있습니다. 이 명명 규칙은 코드를 더 쉽게 읽고 유지 관리할 수 있게 합니다. Kotlin에서 변수와 함수를 선언할 때 Kotlin의 명명 규칙을 따르는 것이 좋은 방법입니다.

## 결론

- Kotlin에서 상수 변수는 `val` 키워드로 선언됩니다.
- `val` 변수는 값 재할당을 제외하고는 일반 변수와 같이 취급할 수 있습니다.
- `val` 키워드는 변수 값을 변경하는 것을 금지하지만, 변수가 나타내는 것의 내부 상태는 변경할 수 있습니다.
- 컴파일 시간 최상위 상수에는 `const` 수정자를 사용할 수 있습니다.
- 가능한 한 `val` 변수를 사용하는 것은 오류를 피하는 데 도움이 되는 좋은 방법입니다.

---

# Kotlin 오답노트

## 1. 정수 입력값의 2배 값을 생성하고 출력하기

### 문제

Kotlin에서 정수 하나를 입력받아 읽기 전용(val) 변수를 생성하되, 이 변수의 값이 입력값의 2배가 되도록 하는 코드를 작성하세요.

### 내가 작성한 틀린 코드

```kotlin
fun main(args: Array<String>) {
    val x = readLine()!!.toInt()
    val a 
    a += x  // 또는 a *= x
    println(a)
}
```

### 오류 이유

1. **초기값 없는 선언**: `val a`에서 초기값이 없음
2. **val 재할당**: `val`로 선언된 변수는 값을 변경할 수 없는데 `+=`, `*=` 연산자로 재할당 시도
3. **논리 오류**: `+=`는 덧셈이지 곱셈이 아님
4. **컴파일 에러**: 위 문제들로 인해 컴파일되지 않음

### 올바른 해결책

```kotlin
fun main(args: Array<String>) {
    val x = readLine()!!.toInt()
    val a = x * 2  // 선언과 동시에 올바른 값 할당
    println(a)
}
```

### 핵심 개념

- `val` 변수는 **불변(immutable)**이므로 한 번 할당된 후 변경 불가
- `val` 변수는 선언 시 **반드시 초기값** 필요
- 값을 변경하려면 `var` 사용

---

## 2. 동적 인사말 메시지 생성하기

### 문제

다음 코드에서 빈칸을 채워 두 변수를 선언하고 완전한 인사말 메시지를 생성하세요.

```kotlin
_____ greeting: _____ = "Hello"
val _____: String = "Kotlin"
val wholeGreeting = "$greeting, $name!"
_____(wholeGreeting)
```

### 정답

```kotlin
val greeting: String = "Hello"
val name: String = "Kotlin"
val wholeGreeting = "$greeting, $name!"
println(wholeGreeting)
```

### 핵심 개념

- **변수 선언**: `val 변수명: 타입 = 값`
- **문자열 템플릿**: `$변수명`으로 변수 값을 문자열에 삽입
- **출력**: `println()` 함수로 콘솔에 출력

---

## 3. Almost val variables (val로 선언 가능한 변수 찾기)

### 문제

컴파일 오류를 발생시키지 않고 `val`로 선언할 수 있는 모든 변수를 선택하세요.

```kotlin
var MSG = "Hello"
var greeting = "$MSG, world!"
greeting = "Hello, John!"
var hello = greeting + MSG
```

### 내 첫 번째 답안

hello만 가능하다고 생각함

### 올바른 답안

**MSG**와 **hello** 모두 가능

### 분석

- **MSG**: 선언 후 재할당이 없으므로 `val` 가능 ✅
- **greeting**: `greeting = "Hello, John!"`에서 재할당이 있으므로 `val` 불가능 ❌
- **hello**: 선언 후 재할당이 없으므로 `val` 가능 ✅

### 헷갈린 이유

MSG가 다른 변수들에 의해 참조되므로 `val`로 바꿀 수 없다고 생각했지만, 실제로는 MSG를 `val`로 바꿔도 다른 코드에 영향을 주지 않음

### 핵심 개념

- `val`은 **재할당 여부**만 확인하면 됨
- 다른 변수에 의한 참조는 `val` 선언에 영향을 주지 않음